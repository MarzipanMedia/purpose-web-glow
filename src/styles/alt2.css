
/* Performance-optimized CSS for Alt2 page */

/* Critical CSS for LCP - Only essential styles that affect LCP */
html.js-loading .defer-animate {
  opacity: 0; /* Hide initially */
}

/* Make sure LCP element is visible immediately */
[data-lcp-element="true"] {
  opacity: 1 !important;
  transform: none !important;
  transition: none !important;
  content-visibility: visible !important;
}

.defer-animate {
  opacity: 0;
  transform: translateY(20px);
  will-change: opacity, transform; /* Hint to browser for GPU acceleration */
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.animate-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Optimize animations by disabling for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  .defer-animate {
    transition: opacity 0.1s ease-out !important;
    transform: none !important; /* Prevent all transform animations */
  }
  
  .animate-visible {
    opacity: 1;
  }
}

/* JS loading state classes */
html.js-loaded .defer-animate {
  opacity: 0; /* Initial state controlled by JS */
}

html.js-ready .defer-animate.animate-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Only use minimal animations on mobile to save resources */
@media (max-width: 768px) {
  .defer-animate {
    transition-duration: 0.3s; /* Faster transitions on mobile */
  }
  
  /* Reduce layout shift by pre-setting dimensions for important elements */
  .container-custom {
    width: 100%;
    max-width: 1280px;
    margin-left: auto;
    margin-right: auto;
  }
  
  /* Minimize animations on mobile for performance */
  .defer-animate:not([data-lcp-element="true"]) {
    transform: translateY(10px); /* Smaller transform distance on mobile */
  }
}

/* Optimize images to prevent layout shift */
.defer-animate img {
  height: auto;
  max-width: 100%;
  aspect-ratio: attr(width) / attr(height);
}

/* Create containment boundaries for better rendering performance */
section, .container-custom {
  content-visibility: auto;
  contain-intrinsic-size: auto 500px;
}

/* Exception for the hero section which contains LCP element */
section:first-of-type {
  content-visibility: visible;
  contain-intrinsic-size: auto;
}

/* Prioritize LCP-related styles */
#main-heading {
  content-visibility: visible !important;
}
